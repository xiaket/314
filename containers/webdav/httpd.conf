# Apache httpd v2.4 minimal configuration
# This can be reduced further if you remove the accees log and mod_log_config
ServerRoot "/var/www/"

# Minimum modules needed
LoadModule authz_core_module modules/mod_authz_core.so
LoadModule authz_user_module modules/mod_authz_user.so
LoadModule authn_core_module modules/mod_authn_core.so
LoadModule authn_file_module modules/mod_authn_file.so
LoadModule auth_digest_module modules/mod_auth_digest.so
LoadModule mpm_event_module modules/mod_mpm_event.so
LoadModule log_config_module modules/mod_log_config.so
LoadModule mime_module modules/mod_mime.so
#LoadModule dir_module modules/mod_dir.so
LoadModule unixd_module modules/mod_unixd.so
LoadModule dav_module modules/mod_dav.so
LoadModule dav_fs_module modules/mod_dav_fs.so
LoadModule dav_lock_module modules/mod_dav_lock.so

# Module configurations.
<IfModule mpm_event_module>
    StartServers             2
    MinSpareThreads         10
    MaxSpareThreads         30
    ThreadsPerChild          5
    MaxRequestWorkers       40
    MaxConnectionsPerChild   3
</IfModule>

TypesConfig /etc/apache2/mime.types

PidFile logs/httpd.pid

# Comment this out if running httpd as a non root user
User apache
Group apache

# Port to Listen on
Listen *:80

# In a basic setup httpd can only serve files from its document root
DocumentRoot "/srv/www"

# Errors go to their own log
ErrorLog /dev/stderr

# Access log
LogFormat "%h %l %u %t \"%r\" %>s %b" common
CustomLog /dev/stdout common

# Never change this block
<Directory />
  AllowOverride None
  Require all denied
</Directory>

DocumentRoot "/srv/www"

DavLockDB /tmp/DavLock

<Directory "/srv/www">
  DAV On
  Require all granted
  Require valid-user
  AuthType Digest
  AuthName "webdav"
  AuthUserFile /etc/apache2/htpassword
  LimitXMLRequestBody 0
</Directory>
